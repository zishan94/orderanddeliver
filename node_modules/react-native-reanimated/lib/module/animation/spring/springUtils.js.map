{"version":3,"names":["logger","checkIfConfigIsValid","config","errorMessage","forEach","prop","value","duration","clamp","min","max","warn","safeMergeConfigs","defaults","userConfig","filtered","Object","fromEntries","entries","filter","v","undefined","bisectRoot","func","precision","maxIterations","direction","idx","current","Math","abs","initialCalculations","stiffness","skipAnimation","zeta","omega0","omega1","useDuration","mass","m","dampingRatio","sqrt","damping","c","k","scaleZetaToMatchClamps","animation","toValue","startValue","toValueNum","Number","firstBound","secondBound","relativeExtremum1","relativeExtremum2","newZeta1","log","PI","newZeta2","zetaSatisfyingClamp","x","getEnergy","displacement","velocity","potentialEnergy","kineticEnergy","calculateNewStiffnessToMatchDuration","x0","v0","energyThreshold","threshold","targetDuration","energyDiffForStiffness","perceptualCoefficient","MILLISECONDS_IN_SECOND","settlingDuration","xtk","exp","vtk","e0","etk","energyFraction","EPSILON","criticallyDampedSpringCalculations","precalculatedValues","t","criticallyDampedEnvelope","criticallyDampedPosition","criticallyDampedVelocity","position","underDampedSpringCalculations","sin1","sin","cos1","cos","underDampedEnvelope","underDampedFrag1","underDampedPosition","underDampedVelocity","isAnimationTerminatingCalculation","initialEnergy","overshootClamping","leftBound","rightBound","currentEnergy"],"sourceRoot":"../../../../src","sources":["animation/spring/springUtils.ts"],"mappings":"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","ignoreList":[]}
